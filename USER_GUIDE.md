# NewsHub - 新闻聚合平台

一个聚合 22 个主流平台实时热点数据的新闻浏览平台，通过集成 hot_news API 为用户提供集中、高效的热点新闻阅读体验。

## 功能特性

### 核心功能
- ✅ **多平台聚合**：聚合 22 个主流平台热点内容（百度、微博、知乎、36氪等）
- ✅ **实时热点**：自动获取和更新热点新闻数据
- ✅ **智能排序**：基于热度算法的综合评分排序
- ✅ **分类浏览**：按平台类别（社交、科技、财经、综合、其他）浏览
- ✅ **搜索功能**：关键词搜索和热门搜索词推荐
- ✅ **用户系统**：用户注册、登录、收藏功能
- ✅ **管理后台**：平台配置、用户管理、数据统计

### 技术特性
- 🎨 现代化 UI 设计（深蓝色主色调 + 橙色强调色）
- 📱 响应式布局，支持桌面和移动端
- 🔐 基于 Supabase 的用户认证和权限管理
- ⚡ Edge Function 定时任务自动获取新闻
- 🎯 热度算法：`final_score = api_score * platform_weight * time_factor`

## 快速开始

### 1. 首次使用

访问应用后，您可以：
- 直接浏览首页热点新闻（无需登录）
- 通过侧边栏按平台或类别筛选新闻
- 使用搜索功能查找感兴趣的内容

### 2. 注册账户

点击右上角"注册"按钮：
- 输入用户名（仅支持字母、数字、下划线）
- 设置密码（至少 6 位）
- **重要**：第一个注册的用户将自动成为管理员

### 3. 登录后功能

登录后可以使用：
- ❤️ 收藏喜欢的新闻
- 📌 查看我的收藏列表
- 🔔 个性化推荐（如果已关注平台）

### 4. 管理员功能

管理员登录后可以访问管理后台：
- 📊 查看系统统计数据
- ⚙️ 管理平台配置（启用/禁用、调整权重）
- 👥 管理用户角色
- 🔄 手动刷新新闻数据

## 平台列表

### 社交媒体
- 微博、知乎、抖音、豆瓣、哔哩哔哩

### 科技媒体
- 36氪、少数派、掘金、V2EX、GitHub Trending、Stack Overflow、Hacker News、吾爱破解

### 财经媒体
- 新浪财经、东方财富、雪球、财联社

### 综合媒体
- 百度、今日头条、腾讯网

### 其他
- 虎扑、百度贴吧

## 使用说明

### 浏览新闻
1. **首页**：显示所有平台的热点新闻，按热度排序
2. **侧边栏**：点击平台名称查看该平台的新闻
3. **分类**：点击类别查看该类别下所有平台的新闻
4. **排序**：切换"热度排序"和"最新发布"

### 搜索新闻
1. 点击顶部导航栏的"搜索"
2. 输入关键词进行搜索
3. 查看热门搜索词获取灵感

### 收藏管理
1. 点击新闻卡片上的 ❤️ 图标收藏
2. 访问"我的收藏"查看所有收藏的新闻
3. 再次点击 ❤️ 取消收藏

### 管理后台（仅管理员）
1. 点击右上角用户菜单中的"管理后台"
2. **仪表盘**：查看系统统计数据
3. **平台管理**：
   - 启用/禁用平台
   - 调整平台权重（影响热度排序）
4. **用户管理**：
   - 查看所有用户
   - 修改用户角色（普通用户/管理员）
5. **刷新数据**：点击"刷新新闻数据"按钮手动触发数据获取

## 技术架构

### 前端
- React + TypeScript
- Tailwind CSS + shadcn/ui
- React Router
- Vite

### 后端
- Supabase（数据库 + 认证 + Edge Functions）
- PostgreSQL
- Row Level Security (RLS)

### 数据源
- API: https://orz.ai/api/v1/dailynews/
- 更新频率：每 30 分钟（可通过管理后台手动刷新）

## 热度算法

新闻的最终热度分数计算公式：

```
final_score = api_score × platform_weight × time_factor
```

其中：
- `api_score`：API 返回的原始热度分数
- `platform_weight`：平台权重（可在管理后台调整，范围 0-10）
- `time_factor`：时间衰减因子（24 小时内线性衰减）

## 注意事项

1. **首次使用**：首个注册用户自动成为管理员，请妥善保管账户信息
2. **数据更新**：新闻数据通过 Edge Function 自动获取，管理员也可手动刷新
3. **平台配置**：禁用平台后，该平台的新闻将不再显示在列表中
4. **权重调整**：调整平台权重会影响该平台新闻在热度排序中的位置

## 开发信息

- 项目名称：NewsHub
- 版本：1.0.0
- 开发时间：2025
- 技术栈：React + Supabase + Tailwind CSS

## 支持

如有问题或建议，请联系管理员。
